{% extends 'base.html' %}

{% block title %}Stock Sage - 홈{% endblock %}

{% block content %}
    <aside class="sidebar">
        <section class="exchange-rate">
            <h1>오늘의 환율</h1>
            <p>(조회시간 : 2000-01-01 12:00:00)</p>
            <div class="rate-item">
                <img src="1시가.png" alt="국기" class="flag">
                <p><strong>KRW/USD:</strong> {{ usd.bkpr }}</p>
            </div>
            <div class="rate-item">
                <img src="1시가.png" alt="국기" class="flag">
                <p><strong>KRW/EUR:</strong> {{ eur.bkpr }}</p>
            </div>
            <div class="rate-item">
                <img src="1시가.png" alt="국기" class="flag">
                <p><strong>KRW/CNY:</strong> {{ cnh.bkpr }}</p>
            </div>
            <div class="rate-item">
                <img src="1시가.png" alt="국기" class="flag">
                <p><strong>KRW/JPY(100):</strong> {{ jpy.bkpr }}</p>
            </div>
        </section>
    </aside>
    <section class="content">
        <!-- 여기에 코스피 그래프가 들어갑니다. -->
        <div class="kospi-chart">
            <h2>코스피</h2>
            <img src="zzzzzzzzzzzz.png" alt="코스피 차트" class="chart-image">

        </div>
        <div class="tabs">
            <button class="tab active" data-tab="gainers">상승률 상위</button>
            <button class="tab" data-tab="losers">하락률 상위</button>
            <button class="tab" data-tab="market-cap">시가총액</button>
        </div>
        <div class="tab-content gainers active">
            <h2>상승률 상위</h2>
            <div class="stock-container">
                <div class="stock-section">
                    {% for s in top_10_stocks|slice:":5" %}
                    <ul class="stock-list">
                        <li class="stock"><span class="ranking-number">{{ forloop.counter }}</span> {{s.name}} <span>{{ s.close }}₩</span> <span>+{{ s.change }}₩    +{{ s.chagesRatio }}%</span></li>
                    </ul>
                    {% endfor %}
                </div>
                <div class="stock-section">
                    {% for s in top_10_stocks|slice:"5:" %}
                    <ul class="stock-list">
                        <li class="stock"><span class="ranking-number">{{ forloop.counter. }}</span> {{s.name}} <span>{{ s.close }}₩</span> <span>+{{ s.change }}₩    +{{ s.chagesRatio }}%</span></li>
                    </ul>
                    {% endfor %}
                </div>
            </div>
        </div>
        <!-- 하락률 상위와 시가총액 탭 내용도 같은 방식으로 -->
        <div class="tab-content losers">
            <h2>하락률 상위</h2>
            <div class="stock-container">
                <div class="stock-section">
                    {% for s in row_10_stocks|slice:":5" %}
                        <ul class="stock-list">
                            <li class="stock"><span class="ranking-number">1</span> {{s.name}} <span>{{ s.close }}₩</span> <span>{{ s.change }}₩    {{ s.chagesRatio }}%</span></li>
                        </ul>
                    {% endfor %}
                </div>
                <div class="stock-section">
                    {% for s in row_10_stocks|slice:"5:" %}
                        <ul class="stock-list">
                            <li class="stock"><span class="ranking-number">1</span> {{s.name}} <span>{{ s.close }}₩</span> <span>{{ s.change }}₩    {{ s.chagesRatio }}%</span></li>
                        </ul>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="tab-content market-cap">
            <h2>시가총액</h2>
            <div class="stock-container">
                <div class="stock-section">
                    {% for s in top_10_tot|slice:":5" %}
                    <ul class="stock-list">
                        <li class="stock"><span class="ranking-number">1</span> {{s.name}} <span>{{ s.close }}₩</span> <span>{{ s.chagesRatio }}%</span> <span>{{ s.marcap }}</span></li>
                    </ul>
                    {% endfor %}
                </div>
                <div class="stock-section">
                    {% for s in top_10_tot|slice:"5:" %}
                    <ul class="stock-list">
                        <li class="stock"><span class="ranking-number">1</span> {{s.name}} <span>{{ s.close }}₩</span> <span>{{ s.chagesRatio }}%</span> <span>{{ s.marcap }}</span></li>
                    </ul>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>
{% endblock %}